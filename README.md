# Утилита командной строки для конвертации orderlog формата QSH в CSV файлы

##_Таблица параметров_:

| Параметр    | Обязательность | Описание | Значение по умолчанию |
| ----------- | ----------- | ---------- | ------- |
| -infile     | Да       | Имя входящего файла или маска для множественной обработки                      || 
|             |          | (если используется маска то обязательно использовать параметр -batch)||  
| -outfile    | Нет      | Имя файла для записи                      ||
| -type    | Да      | Тип формата для вывода, возможные значения: *BOOKSTATE, TICKS, BARS, BOOK_AND_TICKS* ||
| -instr_code    | Нет      | Код инструмента, который будет записан вместо того, который в qsh файле            ||
| -period    | Нет      | Период для типа записи BARS, возможные значения: *M1, M5, M10, M15, M30, H1*           ||
| -bartime    | Нет      | откуда брать время для записи при экспорте BARS, возможные значения: *OPEN, CLOSE*      ||
| -usebook    | Нет      | использовать стакан вместо тиков для собирания баров     | false|
| -dateFormat   | Нет      | формат вывода даты     | yyyy.MM.dd HH:mm |
| -timeFormat   | Нет      | формат вывода времени (если нужно выводить отдельную колонку со временем)     ||
| -timeQuant   | Нет      | квант времени в миллисекундах для вывода в формате BOOKSTATE и TICKS<br>если = 0, то выводятся все изменения  |0 |
| -useMql   | Нет      | использовать формат схожий с MQL для вывода тиков и баров     | false |
| -saveTradeId   | Нет      | записывать trade id при записи TICKS     | false |
| -noHeader   | Нет      | не добавлять заголовок в CSV файл     | false |
| -closeonly   | Нет      | не добавлять заголовок в CSV файл     | false |
| -writezero   | Нет      | записывать нулевые цены при записи *BOOKSTATE*     | false |
| -scale   | Нет      | кол-во наков после запятой для значения цены     | 2 |
| -start   | Нет      | время в минутах дня, когда начинать запись в файл (считается как *час\*60 + минута часа*<br>например 600 соответствует 10 часам утра (60*10), 630 - 10:30 и т.д    | 600 |
| -end   | Нет      | время в минутах дня, когда заканчивать запись     | 1425 |
| -timefilter   | Нет      | использовать спец. фильтр для времени записи     | NONE |
| -batch   | Нет      | обработка множественных файлов, тогда в качестве -infile параметра можно задавать маску     | false |
| -onefile   | Нет      | использвуется только при модификаторе *-batch*, записывать все записи в один файл     | false |
| -book_size   | Нет      | глубина выводимого стакана, используется только при *-type = BOOKSTATE*, если = 1, то толко best ask и best bid | 1 |


##_Примеры использования_  *(на примере версии 1.1.10)* :

*вывести book по всем файлам ed\*.qsh, заменить инструмент на ED, с квантом времени = 1 сек. и кол-вом чисел после запятой для цены = 4 :*

    java -jar orderlog-utils-1.1.10.jar -infile=ed*.qsh -type=BOOKSTATE -batch -instr_code=ED -timeQuant=1000 -scale=4

*вывести тики по инструменту из файла sample.qsh* :
    
    java -jar orderlog-utils-1.1.10.jar -infile=sample.qsh -type=TICKS    

*вывести бары периода M5 по инструменту из файла sample.qsh* :
    
    java -jar orderlog-utils-1.1.10.jar -infile=sample.qsh -type=BARS    

